<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Prueba de Registro - TrendPredictor</title>
</head>
<body style="font-family: Arial, sans-serif; padding: 40px; text-align: center;">
  <h2>Prueba de Registro</h2>
  <p>Si funciona, al hacer clic en "Registrarse" te pedirá email y contraseña, y recibirás un email de confirmación.</p>
  
  <button onclick="signup()" style="padding: 12px 24px; font-size: 16px; background: #6a11cb; color: white; border: none; border-radius: 6px; cursor: pointer;">
    Registrarse
  </button>

  <!-- Supabase SDK -->
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>

  <script>
    // ✅ Configuración de tu proyecto Supabase
    const supabaseUrl = 'https://wuilgfqgxhusypcrivoy.supabase.co';
    const supabaseAnonKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aWxnZnFneGh1c3lwY3Jpdm95Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg1NDAyNDQsImV4cCI6MjA3NDExNjI0NH0.EH922YVZsqBwKSiw2DiKwWvk8TX2pkJWcQJv3gLH9Ug';
    const supabase = window.supabase.createClient(supabaseUrl, supabaseAnonKey);

    // ✅ Función de registro
    function signup() {
      const email = prompt("Introduce tu email:");
      const password = prompt("Contraseña (mínimo 6 caracteres):");
      
      if (!email || !password || password.length < 6) {
        alert("Por favor, introduce un email válido y una contraseña de al menos 6 caracteres.");
        return;
      }

      supabase.auth.signUp({ email, password })
        .then(({ data, error }) => {
          if (error) {
            alert("❌ Error: " + error.message);
            console.error("Error:", error);
          } else {
            alert("✅ ¡Registro enviado! Revisa tu email para confirmar.");
          }
        })
        .catch(err => {
          alert("⚠️ Error técnico: " + err.message);
          console.error("Excepción:", err);
        });
    }
  </script>
</body>
</html>
